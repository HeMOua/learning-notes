## 查看空间

使用 `du` 命令来查看当前目录占用的空间。以下是一些常用的用法：

1. **查看当前目录及其子目录的空间使用情况**：

   ```
   du -sh .
   ```

   这里的 `-s` 表示总结（只显示总计），`-h` 表示以人类可读的格式显示（例如，KB、MB）。

2. **查看当前目录下每个子目录的空间使用情况**：

   ```
   du -h --max-depth=1
   ```

   `--max-depth=1` 表示只查看当前目录下的直接子目录。

3. **查看当前目录和所有子目录的详细空间使用情况**：

   ```
   du -h
   ```

## 清理空间

清除系统缓存。请注意，这些操作通常需要超级用户权限，因此可能需要在命令前加上 `sudo`。

1. **清除页面缓存**（文件系统缓存）：

   ```
   sudo sync; echo 1 > /proc/sys/vm/drop_caches
   ```

2. **清除目录项和 inode 缓存**：

   ```
   sudo sync; echo 2 > /proc/sys/vm/drop_caches
   ```

3. **清除所有缓存**（页面缓存、目录项和 inode）：

   ```
   sudo sync; echo 3 > /proc/sys/vm/drop_caches
   ```

在运行这些命令之前，建议使用 `sync` 命令先将所有未写入的缓存数据写入磁盘，以避免数据丢失。

## 清理缓存

要清理 `/tmp` 目录，可以使用以下步骤：

1. **查看 `/tmp` 目录的内容和大小**：

   ```
   du -sh /tmp/*
   ```

2. **删除 `/tmp` 目录下的所有临时文件**： 如果确定可以删除所有临时文件，可以使用以下命令：

   ```
   sudo rm -rf /tmp/*
   ```

3. **只删除特定类型的临时文件**： 如果只想删除某些类型的文件（比如超过一天的临时文件），可以使用 `find` 命令：

   ```
   sudo find /tmp -type f -mtime +1 -exec rm -f {} \;
   ```

   这里的 `-mtime +1` 表示查找最后修改时间超过 1 天的文件。

4. **定期清理**： 如果 `/tmp` 目录的空间使用频繁，可以考虑定期运行清理脚本，或使用 `tmpwatch` 等工具自动清理。