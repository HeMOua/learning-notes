[toc]

# 《CSS世界》阅读笔记

# 第一章 概述

## 流

**自适应布局**：对具有自适应特性一类布局的统称，包含较广范

**流体布局**：较狭义，包含较少

例如"流体布局"往往是具有自适应性的，但是表格布局虽然也能设置为100%自适应，但是表格并不是流体布局

## table

table比CSS还要老，在CSS正式诞生之前会使用 table 对网页进行布局，所以"流"的特性对 table并不适用

# 第二章 相关术语

## 选择器

+ 类选择器：以  `.` 开头的选择器
+ ID 选择器：以 `#` 开头的选择器
+ 属性选择器：类似 `[title]{}`、`[title~="css-world"]`
+ 伪类选择器：指前面有**一个**英文冒号`:`的选择器，如 `:first-child`、`:last-child`
+ 伪元素选择器：指前面有**两个**英文冒号`::` 的选择器，如`::before`、`::after`

# 第三章  流、元素与基本尺寸

标签种类众多，但通常分为两类：块级元素、内联元素

## 块级元素

+ 块级元素基本特性：**一行**只能**显示一个**元素，**多个**块级元素则**换行显示**

> **注意**：块级元素和 `display` 为 `block` 的元素不是一个概念
>
> + `<li>`元素默认的`display`值是`list-item`
>
> + `<table>`元素默认的`display`值是`table`
>
> 虽然它们的 `display` 不为 `block` 但是它们均是“块级元素”

### 盒子概念 ★

CSS 的设置者为设计了盒子的概念，分为两个盒子：**外在盒子**和**内在盒子**

+ 外在盒子：用来指定元素是块级还是内联。
+ <u>内在盒子：指定宽高和内容</u>

`inline-block` 的外在盒子是内联的，而内在盒子是块级的

## width/height 作用细节

### width:auto ★★★

#### 表现形式

`auto` 是宽度的默认值，它会有有下面几种**表现形式**

+ 充分利用：对于块级元素如【 `div`、`p`】它们会自动铺满整个容器
+ 收缩包裹：对于【浮动、绝对定位、inline-block、table】元素拥有包裹特性
+ 收缩到最小：对于【table-layout 为 auto 的表格】
  + 这个复现不来，不过另一种方式能复现出，如下：
  + 当父级 relative，并且宽度很小，子级 absolute 元素的宽度会收缩到最小
+ 超出容器：对于【white-space: nowrap】的情况

#### 决定要素

盒子分“外在盒子”和“内在盒子”，那么宽度也可以说尺寸也分“外部尺寸”和“内部尺寸”

+ 外部尺寸：元素的宽度由外部元素确定

  1. 正常流宽度：比如在一个容器中放一个 div，那么它的宽度就是由外部容器的宽度决定
  2. 格式化宽度：对于【绝对定位模型，如 position 为 absolute 或 fixed 的非替换元素，并且存在 top/bottom 或 left/right 属性时】，如果没有这些定位属性，则会出现包裹性

+ 内部尺寸：元素的宽度由内部元素确定

  0. 当元素内部无内容时，宽度为 0，则应用的是 “内部尺寸”

  1. 包裹性

  2. 首选最小宽度

  3. 最大宽度

     以上内容已理解，暂不记录

### 盒子尺寸

在“盒子概念”那个章节说过，width 是作用于 “内在盒子”的，而本节我们指出内在盒子又包含四种盒子：

+ content box
+ padding box
+ border box
+ margin box：它是透明的

在 css2.1 规范中，曾明确指出 content box 围绕着 width 和 height 给定的矩阵

因此当出现 padding、border，元素的尺寸会与 width、height给定的大小不一样

### 宽度分离原则

当出现上述情况时，我们为了充分利用“流”自适应的特性，需要采取宽度分离原则，即**外层元素决定宽度，内层决定 padding、border 等**

### box-sizing ★

width 和 height 会指定在 content box 上，若有人不想嵌套使用宽度分离原则可以尝试让宽高制定在 border box 上，也就是 box-sizing: border-box

注：【不建议无脑使用 border-box】，只用在以下情景

主要应用于 input 和 textarea 的自适应问题，它们都是替换元素，替换元素的尺寸由内部元素决定，不论 display 属性为 inline 或 block。

对于普通元素来说，如果设置 display 为 block，它就具有流动性，宽度由外部容器决定，但是替换元素不行，为了自适应，我们必须使用 width: 100%，但是它们又有 border 值，所以做不到完全自适应，这时就需要使用到 box-sizing 了

### height

height 比较简单，它们默认值也为 auto，内容有多高他就多高

只需要注意 height: 100% 这个值，因为它无效，除非你给 html，body 都设置了 100%

其实这是一个“未定义问题”，对于 width 来说如果宽度默认未设置，也就是 auto，则宽度值就为真实的宽度值，但对于 height，如果未设置则高度计算就会使用 auto，那么 `auto * 100%` 必然会报错，所以 height: 100% 会没有效果

#### 宽高计算 ★

+ 对于非绝对定位元素：
  + 宽高计算依赖于父级元素的 content-box 大小
+ 对于决定定位元素：
  + 宽高计算依赖于父级元素的 padding-box 大小