# 系统设计相关

> 应用场景 -> 需求 -> 

## 性能指标

### 响应时间

响应时间指从发出请求开始到收到最后响应数据所需的时间，响应时间是系统最重要的性能指标其直观地反映了系统的“快慢”

### 并发数

并发数指系统能够同时处理请求的数目，这个数字反映了系统的负载特性。

### 吞吐量

+ QPS（Query Per Second）：服务器每秒可以执行的查询次数
+ TPS（Transaction Per Second）：服务器每秒处理的事务数
+ 并发数：QPS * 平均响应时间

### 系统活跃度

+ PV（Page View）：页面点击量或者浏览量，用户每次对网站中的每个页面访问均被记录一个PV，多次访问则会累计。
+ UV（Unique visitor）：独立访客，统计一天内访问网站的用户数，一个用户多次访问网站算一个用户
+ IP（Internet Protocol）：指一天内访问某站点的IP总数，以用户的IP地址作为统计的指标，相同IP多次访问某站点算一次
  + IP和UV的区别：在同一个IP地址下，两个不同的账号访问同一个站点，UV算两次，IP算一次
+ DAU（Daily Active User）：日活跃用户数量。
+ MAU（Monthly Active Users)：月活跃用户人数。

### 常见软件QPS

+ Nginx：一般Nginx的QPS是比较大的，单机的可达到30万
+ MySQL：对于读操作可达几百k，对于写操作更低，大概只有100k
+ Redis：大概在几万左右，像set命令甚至可达10万
+ Tomcat：单机 Tomcat 的QPS 在 2万左右。
+ Memcached：大概在几十万左右

## 分布式id生成器

使用 64-bit 的数

+ 最高位为 0
+ 中间 41 bit 表示时间戳
+ 10 bit 作为机器 id
+ 12 bit 作为序列号

