# 计算机网络

## 基础篇

### TCP/IP 网络模型

> *为什么要有 TCP/IP 网络模型？*
>
> 由于设备的多样性，想要兼容各种各样的设备，在不同设备之间进行通信，就需要一个**通用的网络协议**

+ **应用层**

**专注于为用户提供不同的应用服务，不关心数据具体时如何传输的**，常见的应用层服务有：HTTP、FTP、Telnet、SMTP（Simple Mail Transfer Protocol）

+ **传输层**

**传输层为两台主机的进程之间提供数据传输服务**

传输层的协议主要有传输控制协议TCP和用户数据协议UDP

TCP 相比 UDP 多了很多特性，比如流量控制、超时重传、拥塞控制等，这些都是为了保证数据包能可靠地传输给对方。

UDP 相对来说就很简单，简单到只负责发送数据包，不保证数据包是否能抵达对方，但它实时性相对更好，传输效率也高。

当应用传输的数据太大超过 MSS （最大报文段长度 Maximum message segment）时，就要将数据包分块，这样如果传输过程丢失或损坏了某一个分块，也只要重传这个分块，无需重传整个数据包

传输层的报文中会携带端口号，因此接收方可以识别出该报文是发送给哪个应用。

+ **网络层**

**为数据传输选择合适的网间路由和交换节点，将数据从一个设备传输到另一个设备**，最常使用的协议是 IP 协议

CIDR（Classless Inter-Domain Routing 无类别域间路由）

1. 可以有效避免ip地址的浪费
2. 可以灵活的创建超网

IP 协议功能

1. 寻址，IP地址以及子网掩码
2. 路由，选择路径

+ **网络接口层**

**网络接口层主要为网络层提供「链路级别」传输的服务**，负责在以太网、WiFi 这样的底层网络上发送原始数据包，工作在网卡这个层次，使用 MAC 地址来标识网络上的设备。

### 键入网址到网页显示，期间发生了什么？

1. 浏览器解析 URL，生成发送给 web 服务器的请求信息
2. 委托操作系统将信息发送给 web 服务器，在此之前需要查询服务器域名对应的ip地址
3. 获取到 ip 后，将 http 的传输工作交给操作系统的协议栈
4. 