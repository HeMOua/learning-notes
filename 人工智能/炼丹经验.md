# 炼丹经验

## 编码注意

1. 需要使用掩码时，不一定要将tensor放到GPU中，cpu的就可以了；==索引==不一定非要是同一设备的，也就是GPU的数据可以使用CPU的索引

2. 一般从==torch.from_numpy()==方法中获取到的==图片==后面需要接一个float()才能正常训练

3. torch的Tensor==索引号==必须全部为==同一类型==，

4. ==交叉熵==损失函数的==target==必须使用long类型
5. 计算时要保证两个操作数类型一致，比如一边是 torch.float32 另一边就不能是 torch.float64



## 训练注意

1. 有时 Adam 和 SGD 的区别很大

## 建模注意

1. 模型有子模型时，要放在 `nn.ModuleList` 而不是普通的 list 中
1. 根据提取的特征预测数据时，最后一层不能有 `nn.ReLU` 等非线性结构 ★
